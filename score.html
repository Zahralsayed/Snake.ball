<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Ribeye+Marrow&display=swap" rel="stylesheet">
    <title>Score Page</title>
</head>
<body class="centerPage">
    <h1><div id="message"> </div></h1>
    <div class="style">
        <div id="currentScore"> Current Score <div id="current"></div></div> </br>
        <div id="highestScore"> Highest Score <div id="highest"></div></div>
    </div>
    <button type="submit" onclick="location.href='start.html'"> Play Again </button>


    <script> 
        // function to display the current score
        function displayCurrentScore(score) {
            let storedScore =  localStorage.getItem('score')
                let currentS = document.querySelector('#current')         
                if (currentS){
                    document.querySelector('#current').innerHTML=`${storedScore}` 
                } 
                else {
                    document.querySelector('#current').innerHTML='no score available' 
                }
                if(storedScore > 50 ){
                    document.querySelector('#message').innerHTML='Great! Try again'
                }
                 else {
                    document.querySelector('#message').innerHTML='Game Over!'
        }
        }

        // update the highest score
        function highestScore(current) {
            // take the highest score from local storage
            let highest = localStorage.getItem('highest')
            if (highest === null) {
                highest = 0
            } else {
                highest = parseInt(highest, 10) // to convert to number
            }

            // update the highest if the current score is higher
            if (current > highest) {
                localStorage.setItem('highest', current)
                highest = current
            }

            // display the highest score
            let highestElement = document.querySelector('#highest')
            if ( highestElement ) {
                highestElement.innerHTML = `${highest}`
            } 
        }

        function updateScore() {
            let storedScore =  localStorage.getItem('score');
        // display the current score
            displayCurrentScore(storedScore)
        //  highest score
            highestScore(storedScore)
        }

        // Initialize score on page load
        document.addEventListener('DOMContentLoaded', function() {
            // update the score when the page loads
            updateScore()
        })
    </script>

</body>
</html>